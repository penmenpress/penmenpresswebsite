!function(t){var e;t(".preview_image_box").on("click",function(n){n.preventDefault();var a=t(this),i=a.next("input");e||(e=wp.media({title:sn_lang.media_frame_title,button:{text:sn_lang.media_frame_button},multiple:!1})),e.on("select",function(){var t=e.state().get("selection").first().toJSON();i.val(t.url),a.addClass("has_image").find("img").attr("src",t.url)}),e.open()}),t(".preview_image_box .remove-image").on("click",function(e){e.stopPropagation(),e.preventDefault();var n=t(this).parents(".preview_image_box");n.removeClass("has_image"),n.next("input").val(null)}),t(".slack_test_integration").on("click",function(e){e.preventDefault();var n=t(this),a=n.next("input");n.removeClass("testing ok error").addClass("testing"),t.ajax({url:ajaxurl,method:"POST",dataType:"json",data:{action:"slack-test-integration"},success:function(t){n.removeClass("testing ok error"),t.success?(n.addClass("ok"),a.val("1")):(n.addClass("error"),a.val("0"))}})}),t('a.page-title-action[href="#new_notification"]').on("click",function(e){e.preventDefault();var n=t("#notification_box").html();t(n).clone().appendTo(".notifications-wrapper")}),t(document).on("click",".notification-box .notification-header",function(e){e.preventDefault(),t(this).next(".notification-settings").slideToggle(),t(this).parent(".notification-box").toggleClass("open")}),t(document).on("change",".notification-box select",function(){var e="",n=t(this).parents(".notification-box"),a=n.find("select.notification-type");t(this).hasClass("notification-type")&&(n.find("select.notification_options").removeClass("current").hide(),n.find('select[name="notification[action]['+a.val()+'][]"]').addClass("current").show());var i=n.find('select[name="notification[action]['+a.val()+'][]"]');e="["+(e=a.find('option[value="'+a.val()+'"]').text())+"] "+i.find('option[value="'+i.val()+'"]').text(),n.find("h2").text(e),n.find('input[name="notification[title][]"]').val(e)}),t(document).on("click",".remove-notification",function(e){e.preventDefault(),t(this).parents(".notification-box").remove()}),t(".copy-report").on("click",function(e){e.preventDefault(),t("#slack_tech_data").select(),document.execCommand("copy")}),t("#slack_clear_logs").on("click",function(e){e.preventDefault();var n=t(this),a=n.prev().prev("textarea");n.removeClass("working ok error").addClass("working"),t.ajax({url:ajaxurl,method:"POST",dataType:"json",data:{action:"slack-clear-logs"},success:function(t){n.removeClass("working ok error"),t.success?(n.addClass("ok"),a.val("")):n.addClass("error")}})})}(jQuery);
//# sourceMappingURL=admin-scripts.min.js.map
